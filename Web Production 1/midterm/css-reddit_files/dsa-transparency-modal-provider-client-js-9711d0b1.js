import"./dsa-transparency-modal-9733c1c0.js";import{c as t,_ as s,n as e,J as a,t as i,s as r,cp as o,c8 as n,x as d,e as p}from"./shell-e94b58e1.js";import"./faceplate-bottom-sheet-6635ac01.js";import"./TinyGesture-32f2fddd.js";let c=class extends r{constructor(){super(),this.postId="",this.impressionId="",this._activateFeature=async t=>o(t),this.initDsaTransparencyModal=async t=>{const s=t;this.target=s.target,this.postId=s.detail?.post_id,this.adUserTargetingInfo=s.detail?.ad_user_targeting_info,this.impressionId=s.detail?.impression_id;const{gender:e,interests:a,locations:i,targetingCriteria:r}=this.adUserTargetingInfo,o={};e&&(o.gender=`${e}`),a&&a.length>0&&(o.interests=`${a.toString()}`),i&&i.length>0&&(o.locations=`${i.join("-")}`),r&&r.length>0&&(o.targeting_criteria=`${r.toString()}`),await this._activateFeature({name:"dsa-transparency-modal",queryParams:{post_id:this.postId,impression_id:this.impressionId,is_desktop:!!this.isDesktop,...o},renderMode:n.Contents})},this.closeDsaTransparencyModal=async()=>{await(this.dsaTransparencyModal?.updateComplete),this.target?.focus()},this.addEventListener("dsa-transparency-modal-init",this.initDsaTransparencyModal),this.addEventListener("dsa-transparency-modal-close",this.closeDsaTransparencyModal)}render(){return d` <slot></slot> `}};c.styles=[t],s([e({type:Boolean,attribute:"is-desktop"})],c.prototype,"isDesktop",void 0),s([a("dsa-transparency-modal")],c.prototype,"dsaTransparencyModal",void 0),s([i()],c.prototype,"postId",void 0),s([i()],c.prototype,"impressionId",void 0),s([i()],c.prototype,"adUserTargetingInfo",void 0),c=s([p("dsa-transparency-modal-provider")],c);
//# sourceMappingURL=dsa-transparency-modal-provider-client-js-9711d0b1.js.map
