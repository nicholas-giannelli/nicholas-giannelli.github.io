import"./faceplate-expandable-section-helper-b6683de3.js";import{q as t,j as i,cH as e,p as a,cI as s,ab as r,ac as o,c as n,x as d,$ as l,aq as c,ar as p,d as h,f as u,_ as m,s as v,n as f,e as S,bi as F,t as y}from"./shell-e94b58e1.js";import{i as N}from"./icon-community-outline-f6da394f.js";import{i as b,a as g}from"./icon-star-outline-df188afa.js";import"./custom-feed-edit-button-e8bc5588.js";import"./rpl-dialog-19bc4d5f.js";let C=class extends(t(i(v))){constructor(){super(...arguments),this.multiredditPath="",this.displayName="",this.iconSrc="",this.isFavorited=!1,this.sanNoun="",this.onClick=()=>{this.trackEvent(e(this.sanNoun,this.multiredditPath)())},this.onFavoriteClick=()=>{this.trackEvent(e(this.isFavorited?"unfavorite":"favorite",this.multiredditPath)());const t={path:this.multiredditPath,isFavorited:!this.isFavorited};this.publish(a.MultiredditFavoriteStatusChange,t);const i={input:{label:this.multiredditPath,favoriteState:this.isFavorited?s.None:s.Favorited}};r({operation:o.UpdateMultiredditFavoriteState,variables:i})}}static get styles(){return[n]}render(){const t=d`<span class="mr-[2px]" \n>${this.iconSrc?d`<img \n class="rounded-full" \n loading="lazy" \n src="${this.iconSrc}" \n width="32" \n height="32" \n aria-hidden="true" \n alt="custom feed icon" \n>`:N({size:l.Large})}</span>`;return c({href:"https://reddit.com"+this.multiredditPath,innerClassName_DO_NOT_USE:"s:rounded-[8px] bg-transparent",label:d`<div class="truncate">${this.displayName}</div>`,leadingAvatar:t,size:p.Small,trailingSlot:d` ${h({appearance:"plain",leadingIcon:(this.isFavorited?b:g)({size:l.Small}),size:u.Small,attributes:{"aria-label":this.isFavorited?"Remove custom feed from favorites":"Add custom feed to favorites",onclick:t=>{t.preventDefault(),t.stopPropagation(),this.onFavoriteClick()}}})}`,onClick:()=>this.onClick()})}};m([f({type:String})],C.prototype,"multiredditPath",void 0),m([f({type:String})],C.prototype,"displayName",void 0),m([f({type:String})],C.prototype,"iconSrc",void 0),m([f({type:Boolean})],C.prototype,"isFavorited",void 0),m([f({type:String})],C.prototype,"sanNoun",void 0),C=m([S("left-nav-multireddit-item")],C);class $ extends(i(v)){constructor(){super(...arguments),this.initialStateJSON="[]",this.items=[],this.updateFavoritedState=({path:t,isFavorited:i})=>{const e=[...this.items],a=e.findIndex((i=>i.path===t));-1!==a&&e[a].isFavorited!==i&&(e[a].isFavorited=i,this.items=k(e))}}connectedCallback(){super.connectedCallback(),this.items=k(JSON.parse(this.initialStateJSON)),this.subscribe(a.MultiredditFavoriteStatusChange,this.updateFavoritedState)}render(){return d`<div>\n ${F(this.items,(t=>d`<left-nav-multireddit-item \n sanNoun="${this.sanNoun}" \n multiredditPath="${t.path}" \n displayName="${t.displayName}" \n iconSrc="${t.icon}" \n ?isFavorited="${t.isFavorited}" \n></left-nav-multireddit-item>`))}\n </div>`}}function k(t){return[...t.sort(((t,i)=>t.isFavorited===i.isFavorited?t.displayName.toLowerCase()>i.displayName.toLowerCase()?1:-1:t.isFavorited?-1:1))]}m([f({type:String})],$.prototype,"initialStateJSON",void 0),m([y()],$.prototype,"items",void 0);let P=class extends ${constructor(){super(...arguments),this.sanNoun="multireddits_menu"}};P=m([S("left-nav-multireddits-controller")],P);
//# sourceMappingURL=left-nav-multireddits-section-client-js-745223c2.js.map
